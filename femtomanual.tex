%% LyX 1.6.2 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[oneside,portuges,procnames]{extbook}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{graphicx}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
%% Because html converters don't know tabularnewline
\providecommand{\tabularnewline}{\\}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
\theoremstyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{color}
\usepackage[procnames]{listings}
\usepackage{textcomp}
\usepackage{setspace}
\usepackage{palatino}
\renewcommand{\lstlistlistingname}{Code Listings}
\renewcommand{\lstlistingname}{Code Listing}
\definecolor{gray}{gray}{0.5}
\definecolor{green}{rgb}{0,0.5,0}
\definecolor{lightgreen}{rgb}{0,0.7,0}
\definecolor{purple}{rgb}{0.5,0,0.5}
\definecolor{darkred}{rgb}{0.5,0,0}
\definecolor{orange}{rgb}{1,0.5,0}
\lstnewenvironment{python}[1][]{
\lstset{
language=python,
basicstyle=\ttfamily\small\setstretch{1},
stringstyle=\color{green},
showstringspaces=false,
alsoletter={1234567890},
otherkeywords={\ , \}, \{},
keywordstyle=\color{blue},
emph={access,and,as,break,class,continue,def,del,elif,else,%
except,exec,finally,for,from,global,if,import,in,is,%
lambda,not,or,pass,print,raise,return,try,while,assert},
emphstyle=\color{orange}\bfseries,
emph={[2]self},
emphstyle=[2]\color{gray},
emph={[4]ArithmeticError,AssertionError,AttributeError,BaseException,%
DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,%
False,FloatingPointError,FutureWarning,GeneratorExit,IOError,%
ImportError,ImportWarning,IndentationError,IndexError,KeyError,%
KeyboardInterrupt,LookupError,MemoryError,NameError,None,%
NotImplemented,NotImplementedError,OSError,OverflowError,%
PendingDeprecationWarning,ReferenceError,RuntimeError,RuntimeWarning,%
StandardError,StopIteration,SyntaxError,SyntaxWarning,SystemError,%
SystemExit,TabError,True,TypeError,UnboundLocalError,UnicodeDecodeError,%
UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,%
UserWarning,ValueError,Warning,ZeroDivisionError,abs,all,any,apply,%
basestring,bool,buffer,callable,chr,classmethod,cmp,coerce,compile,%
complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,%
execfile,exit,file,filter,float,frozenset,getattr,globals,hasattr,%
hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,%
license,list,locals,long,map,max,min,object,oct,open,ord,pow,property,%
quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,%
slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,%
vars,xrange,zip},
emphstyle=[4]\color{purple}\bfseries,
upquote=true,
morecomment=[s][\color{lightgreen}]{"""}{"""},
commentstyle=\color{red}\slshape,
literate={>>>}{\textbf{\textcolor{darkred}{>{>}>}}}3%
         {...}{{\textcolor{gray}{...}}}3,
procnamekeys={def,class},
procnamestyle=\color{blue}\textbf,
framexleftmargin=1mm, framextopmargin=1mm, frame=shadowbox,
rulesepcolor=\color{blue},#1
}}{}

\usepackage{babel}

\begin{document}

\title{Manual de Python}


\author{Francisco Silva, Tiago Dinis}


\date{\today}

\maketitle

\chapter{Introdução}

Este manual foi escrito no intuito de apoiar os projectos por nós
dirigidos na Escola de Verão de Física, visto que ambos passam por
aprender o básico sobre Python - uma linguagem de programação simples
e fácil de aprender. 

Mas, porquê escrever mais um manual de Python? É verdade que na internet
se encontram vários manuais de python, mas o problema é que esses
manuais ora estão em inglês ora são demasiado avançados ora estão
centrados em aspectos que não nos interessam... E é por isso que nós
nos juntamos para escrever um pequeno manual onde explicamos aquilo
que necessitamos da forma como queremos. No fim da escola os alunos
poderão guardar este manual como referência caso queiram brincar um
pouco mais com o Python. 

Este manual não pretende ser completo. Caso se interessem por aprende
mais podem começar por {[}link{]}.


\section{O que é simulação}

Suponhamos que estamos interessados em construir um carro que seja
seguro. Precisamos então de testar o comportamento do carro em vários
tipos de acidentes. O modo mais directo de testar a sua segurança
seria realizar uma colisão real, ou seja, metemo-nos no carro aceleramos
e chocamos contra um obstáculo. Este método é incómodo pois só podemos
fazer a experiência uma vez e nem podemos analisar os resultados.

E se no lugar de pessoas usássemos bonecos, os quais simulariam o
condutor e os passageiros? É certamente melhor para a nosssa integridade,
e é uma das técnicas que usam os fabricantes de automóveis. 

Mesmo assim temos um problema, para cada simulação precisamos dum
carro, o que fica extremamente caro. Outra opção seria simular a situação
dentro dum computador, poupando carros e bonecos. A ideia é o computador
calcular todas as forças, velocidades e posições do carro e dos passageiros
ao longo do acidente, estimando no fim o dano causado nos vários passageiros.
Podemos assim simular acidentes de forma muito mais barata e rápida
e em inúmeras situações diferentes. 

Claro que a simulação, em geral, é menos fidedigna que embater directamente
com um carro num obstáculo. Por isso, usa-se as duas técnicas complementarmente
- começa-se por se simular no computador e numa fase mais avançada
usa-se um protótipo.

Note-se que há imensas situações as quais só se podem estudar por
simulação computacional - por exemplo a simulação da origem do universo
ou nano-engrenagens, até agora impossíveis de fabricar.


\section{Linguagens de programação}

Claro que para dar as ordens ao computador precisamos de saber comunicar
com ele. Ou seja, de usar uma linguagem que ele compreenda e existem
muitos tipo de linguagens:

{[}Chico preenche isto que tu sabes mais{]}


\section{Porquê Python}

O Python foi lançado por Guido van Rossum em 1991. É uma linguagem
que tem várias vantagens:
\begin{itemize}
\item A sintaxe é clara, encorajando a legibilidade do código o que o torna
mais fácil de manter e reutilizar.
\item É uma linguagem simples e concisa tornando-a uma linguagem simples
de usar e de ler.
\item Não precisa de ser compilada.
\item Funciona em vários sistemas operativos.
\item Tem uma vasta biblioteca padrão, ou seja, praticamente tudo o que
venhamos a precisar está nessa biblioteca.
\end{itemize}
Claro que outras linguagens têm outras vantagens e cada uma terá um
domínio onde é mais adequada.


\chapter{Rudimentos de Python}

Neste capítulo vamos aprender a usar o básico do Python, com ele o
aluno será capaz de fazer vários programas, simples mas poderosos.
Supomos que o aluno usa Linux, as diferenças para outros sistemas
operativos (Windows, MacOSX...) não são significativas. {[}pensar
num apêndice{]}


\section{Interpretador e Operações Básicas}

O método mais simples de trabalhar com Python é através do interpretador.
Este pode ser usado por várias maneiras: na linha de comandos, pelo
internet {[}{]}, por interfaces gráficas próprias {[}{]} ou até dentro
doutros programas. Na Escola de Física será usado na linha de comandos.
Para abrir o interpretador, introduz-se \emph{python} na linha de
comandos. 

\begin{center}

\includegraphics[scale=0.4]{consola}

\end{center}

O conceito do interpretador é simples, dá-se uma ordem e ele executa-a.
Para sair do interpretador escreve-se \emph{exit()} ou prime-se Control-d. 

Comecemos por usar o interpretador como uma calculadora. As operações
elementares da álgebra:

\begin{center}

\begin{tabular}{|c|c|}
\hline 
\emph{Operação} & \emph{Símbolo}\tabularnewline
\hline
\hline 
Adição & +\tabularnewline
\hline 
Subtracção & -\tabularnewline
\hline 
Multiplicação & {*}\tabularnewline
\hline 
Divisão & /\tabularnewline
\hline 
Exponenciação & {*}{*}\tabularnewline
\hline 
Resto & \%\tabularnewline
\hline
\end{tabular}

\end{center}

Note-se que a última só faz sentido entre números inteiros.


\subsection*{Exercícios}
\begin{enumerate}
\item Calcule $4.5\times3.14+3.4^{2.1}$. Reparem que o Python usa um ponto
como separador décimal.
\item Quanto vale $3/2$? E $3.01/2$?
\item Quanto falta a $2354785$ para ser um múltiplo de $7$?
\end{enumerate}

\section{Variáveis}


\subsection{Variáveis numéricas}

Em Python existem três tipos principais de variáveis numéricas:
\begin{itemize}
\item Os números inteiros, por exemplo $n=3$;
\item Os números reais, por exemplo $x=-3.14$;
\item E os números complexos, como por exemplo $z=3.2+1j$. Notem que o
Python usa $j$, e não $i$ como é habitual.
\end{itemize}
Se não houver separador décimal o Python assume que o número é inteiro.
Isto pode trazer problemas nas divisões, por exemplo $1/2=0$, mas
$1./2.=0.5$.

Quando se escreve $n=3$ está-se a guardar o valor $3$ em $n$. Vejamos
o exemplo seguinte:

\begin{center}

\includegraphics[scale=0.5]{atribuir}

\end{center}

O que acontece: 
\begin{enumerate}
\item Na primeira linha guardamos o valor $3$ na variável $n$;
\item Na segunda guardamos o valor $5$ em $m$;
\item Na terceira linha estamos a copiar o valor da variável $n$ (que neste
caso é $3$) para a variável $m$;
\item Por fim perguntamos o valor de $m$ ao computador.
\end{enumerate}

\subsection*{Exercício}
\begin{enumerate}
\item Se num quinto passo atribuirmos o valor $7$ a $n$, quanto vale agora
$m$?
\end{enumerate}

\subsection{Cadeias de caracteres}

Mas nem todas as variáveis são números, podemos também definir cadeias
de caracteres. As cadeias de caracteres são delimitadas por {}``
'' ou por {}` ', vejamos um exemplo:

\begin{center}

\includegraphics[scale=0.5]{string}

\end{center}

Nem todos os caracteres se podem usar em cadeias de caracteres, por
vezes é preciso usar certos atalhos, por exemplo paradar uma nova
linha usa-se {}``\textbackslash{}n''.

As cadeias de caracteres são estruturas rígidas, ou seja, não se podem
alterar. Mas em contrapartida pode-se aceder a apenas parte da cadeia:
\begin{itemize}
\item a{[}i{]} acede ao i-ésimo caracter, por exemplo a{[}4{]} é igual a
{}``v''. Note-se que a numeração dos caracteres começa pelo $0$.
\item a{[}:j{]} acede a todos os caracteres até à posição j, j não incluído,
por exemplo a{[}:8{]} é igual {}``As aves {}``.
\item a{[}i:{]} é igual ao anterior mas acedendo a todos os números após
i, i incluído.
\item a{[}i:j{]} acede aos caracteres entre as posições i e j, por exemplo
a{[}3:6{]} é igual a {}``ave''.
\end{itemize}
De notar que o 

Pode-se também juntar várias cadeias, usando um sinal de +, por exemplo
{}``Eu tenho uma''+{}`` mesa.'' é igual a {}``Eu tenho uma mesa.''


\subsection*{Exercícios}
\begin{enumerate}
\item Crie uma variável com o valor {}``Das uvas se faz o vinho!''.
\item Modifique a variável para {}``Das macas se faz a cidra!''. É possível
pôr cedilhas e acentos nas palavras, mas nós vamos evitá-los.
\end{enumerate}

\subsection{Listas}

No contexto de variáveis a última coisa que nós vamos introduzir são
as listas. Uma lista de objectos escreve-se entre parentesis rectos,
por exemplo:

\begin{center}

\includegraphics[scale=0.5]{lista}

\end{center}

Como podem ver as listas são mais fléxiveis que as cadeias, por isso
a sua importância. Vejamos algumas das operações que podemos realizar
com elas:
\begin{itemize}
\item A.append(X) acrescenta o elemento X ao fim da lista A.
\item A.insert(I,X) acrescenta o elemento X na posição I da lista A.
\item A.extend(B) une a lista A com a lista B. Vom a B após a A.
\item A.index(X) devolve a posição da primeira aparição do elemento X na
lista A.
\item A.remove(X) apaga o primeiro elemento X da lista A.
\item A+B devolve a união das listas A e B.
\item n{*}A devolve a lista A repetida n vezes.
\end{itemize}
Vejamos um exemplo:\begin{center}

\includegraphics[scale=0.5]{lista_op}

\end{center}


\subsection*{Exercícios}
\begin{enumerate}
\item Crie duas listas, digamos A e B, e calcule A.append(B), o que é que
acontece?
\item Crie uma lista com todos os números inteiros ordenados entre 1 e 50.
Dica experimente o que acontece se fizer range(10).
\end{enumerate}

\section{Ficheiros Python (refazer)}

Imaginem que estamos a fazer um cálculo e ao final de 30 min reparamos
que nos enganamos. Ora temos que repetir quase tudo. Mas existe uma
solução que é escrever num ficheiro as ordens, a que nós chamamos
normalmente de código, que nós queremos que o computador siga.

\begin{python}
#coding=utf8

frase="Este é o meu primeiro programa|" #Isto é um comentário
print frase
\end{python}
\begin{lstlisting}[procnamestyle=small]

\end{lstlisting}


Começamos por abrir um editor de texto qualquer (por exemplo o Gedit),
escrevemos


\begin{lstlisting}[language=Python]
#coding=utf8

frase=Este é o meu primeiro programa! #Isto é um comentário
print frase
\end{lstlisting}


\begin{center}

\includegraphics[scale=0.5]{gedit}

\end{center}

Gravamos o ficheiro, por exemplo com o nome primeiro.py (o .py serve
para identificar os ficheiros de Python), e por fim corremos o python
com o ficheiro usando o comando python primeiro.py.

Vamos analisar o programa:
\begin{itemize}
\item \#coding=utf8 permite usar caracteres acentuados e o ç.
\item frase=''Este é o meu primeiro programa.'' cria uma cadeia de caracteres.
\item \#, a partir deste símbolo e até mudar de linha o python ignora, serve
então para escrever comentários.
\item print frase vai imprimir (ou escrever) o valor da variável frase na
linha de comandos.
\end{itemize}
O código deve ser limpo, bem organizado e muito bem comentado. Senão,
ninguém será capaz de perceber o que vocês estão a fazer nem mesmo
vocês daqui a uma semana. 


\section{Funções}


\subsection{Print}


\subsection{Input}


\subsection{Definir funções}


\subsection{Usar funções}


\section{If e ciclos}


\section{Exercícios hiper-difíceis}


\chapter{Pitão mega-avançado}


\section{Bibliotecas}


\subsection{math}


\subsection{pylab}


\section{Gráficos}


\section{Exercícios tera-difíceis}


\chapter{Soluções}


\section{Soluções do capítulo 2}


\section{Soluções do capítulo 3}


\chapter{Problema do bêbado}


\chapter{Problema da moeda}
\end{document}
